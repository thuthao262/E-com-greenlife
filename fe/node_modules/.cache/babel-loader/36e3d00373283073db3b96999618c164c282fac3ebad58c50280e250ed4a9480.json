{"ast":null,"code":"var _jsxFileName = \"D:\\\\TMDT\\\\greenlife-deploy\\\\fe\\\\src\\\\screens\\\\HomeScreen.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport MessageBox from '../components/MessageBox';\nimport LoadingBox from '../components/LoadingBox';\n// import data from '../data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return {\n        ...state,\n        loading: true\n      };\n    case 'FETCH_SUCCESS':\n      return {\n        ...state,\n        products: action.payload,\n        loading: false\n      };\n    case 'FETCH_FAIL':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\nfunction HomeScreen() {\n  _s();\n  const [{\n    loading,\n    error,\n    products\n  }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: ''\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: 'FETCH_REQUEST'\n      });\n      try {\n        const result = await axios.get('https://greenlife-deploy-5.onrender.com/api/products');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: err.message\n        });\n      }\n\n      // setProducts(result.data);\n    };\n\n    fetchData();\n    const scriptElement1 = document.createElement('script');\n    scriptElement1.id = 'mcjs';\n    scriptElement1.innerHTML = `\n      !function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}\n      (document,\"script\",\"https://chimpstatic.com/mcjs-connected/js/users/cc9f7cece067e1eda3e65c17f/cdf531ae830e57a1acda0cd8a.js\");\n    `;\n    document.head.appendChild(scriptElement1);\n\n    // Attach event listeners and functions for the popup form\n    const showPopup = () => {\n      const popup = document.getElementById(\"subscribePopup\");\n      popup.style.display = \"block\";\n    };\n    const hidePopup = () => {\n      const popup = document.getElementById(\"subscribePopup\");\n      popup.style.display = \"none\";\n    };\n    const subscribeBtn = document.getElementById(\"subscribeBtn\");\n    subscribeBtn.addEventListener(\"click\", showPopup);\n    window.addEventListener(\"click\", function (event) {\n      const popup = document.getElementById(\"subscribePopup\");\n      console.log('hi');\n      if (event.target === popup) {\n        hidePopup();\n      }\n    });\n    return () => {\n      // Cleanup: remove the first <script> tag and event listeners when the component is unmounted\n      document.head.removeChild(scriptElement1);\n      subscribeBtn.removeEventListener(\"click\", showPopup);\n      window.removeEventListener(\"click\", hidePopup);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"GreenLife\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"S\\u1EA3n ph\\u1EA9m m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 12\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {\n        children: products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n          sm: 6,\n          md: 4,\n          lg: 3,\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Product, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this)\n        }, product.slug, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mc_embed_shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"//cdn-images.mailchimp.com/embedcode/classic-061523.css\",\n        rel: \"stylesheet\",\n        type: \"text/css\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"mc_embed_signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"subscribeBtn\",\n      children: \"Subscribe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"subscribePopup\",\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeScreen, \"02cXYkWU98eOLzOyMnlZNAPamVU=\");\n_c = HomeScreen;\nexport default HomeScreen;\nvar _c;\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["useEffect","useReducer","axios","logger","Row","Col","Product","Helmet","MessageBox","LoadingBox","jsxDEV","_jsxDEV","reducer","state","action","type","loading","products","payload","error","HomeScreen","_s","dispatch","fetchData","result","get","data","err","message","scriptElement1","document","createElement","id","innerHTML","head","appendChild","showPopup","popup","getElementById","style","display","hidePopup","subscribeBtn","addEventListener","window","event","console","log","target","removeChild","removeEventListener","children","fileName","_jsxFileName","lineNumber","columnNumber","className","variant","map","product","sm","md","lg","slug","href","rel","_c","$RefreshReg$"],"sources":["D:/TMDT/greenlife-deploy/fe/src/screens/HomeScreen.js"],"sourcesContent":["import { useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport MessageBox from '../components/MessageBox';\nimport LoadingBox from '../components/LoadingBox';\n// import data from '../data';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n    case 'FETCH_SUCCESS':\n      return { ...state, products: action.payload, loading: false };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction HomeScreen() {\n  const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: '',\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_REQUEST' });\n      try {\n        const result = await axios.get('https://greenlife-deploy-5.onrender.com/api/products');\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n      } catch (err) {\n        dispatch({ type: 'FETCH_FAIL', payload: err.message });\n      }\n\n      // setProducts(result.data);\n    };\n    fetchData();\n\n    const scriptElement1 = document.createElement('script');\n    scriptElement1.id = 'mcjs';\n    scriptElement1.innerHTML = `\n      !function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}\n      (document,\"script\",\"https://chimpstatic.com/mcjs-connected/js/users/cc9f7cece067e1eda3e65c17f/cdf531ae830e57a1acda0cd8a.js\");\n    `;\n    document.head.appendChild(scriptElement1);\n\n    // Attach event listeners and functions for the popup form\n    const showPopup = () => {\n      const popup = document.getElementById(\"subscribePopup\");\n      popup.style.display = \"block\";\n    };\n\n    const hidePopup = () => {\n      const popup = document.getElementById(\"subscribePopup\");\n      popup.style.display = \"none\";\n    };\n\n    const subscribeBtn = document.getElementById(\"subscribeBtn\");\n    subscribeBtn.addEventListener(\"click\", showPopup);\n\n    window.addEventListener(\"click\", function(event) {\n      const popup = document.getElementById(\"subscribePopup\");\n      console.log('hi')\n      if (event.target === popup) {\n        hidePopup();\n      }\n    });\n\n    return () => {\n      // Cleanup: remove the first <script> tag and event listeners when the component is unmounted\n      document.head.removeChild(scriptElement1);\n      subscribeBtn.removeEventListener(\"click\", showPopup);\n      window.removeEventListener(\"click\", hidePopup);\n    };\n\n  }, []);\n  return (\n    <div>\n      <Helmet>\n        <title>GreenLife</title>\n      </Helmet>\n      <h1>Sản phẩm mới</h1>\n      <div className=\"products\">\n        {loading ? (\n           <LoadingBox />\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <Row>\n            {products.map((product) => (\n              <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\n                <Product product={product}></Product>\n              </Col>\n            ))}\n          </Row>\n        )}\n      </div>\n    {/* Provided Mailchimp form */}\n    <div id=\"mc_embed_shell\">\n        <link href=\"//cdn-images.mailchimp.com/embedcode/classic-061523.css\" rel=\"stylesheet\" type=\"text/css\" />\n        \n        <div id=\"mc_embed_signup\">\n          {/* The rest of the provided Mailchimp form HTML */}\n        </div>\n      </div>\n\n      {/* Subscribe button to trigger the popup */}\n      <button id=\"subscribeBtn\">Subscribe</button>\n\n      {/* Popup form */}\n      <div id=\"subscribePopup\" style={{ display: \"none\" }}>\n        {/* Additional JavaScript and event listeners for the popup */}\n      </div>\n    </div>\n  );\n}\nexport default HomeScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}