{"ast":null,"code":"var _jsxFileName = \"D:\\\\TMDT\\\\greenlife-deploy\\\\fe\\\\src\\\\screens\\\\HomeScreen.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport MessageBox from '../components/MessageBox';\nimport LoadingBox from '../components/LoadingBox';\n// import data from '../data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return {\n        ...state,\n        loading: true\n      };\n    case 'FETCH_SUCCESS':\n      return {\n        ...state,\n        products: action.payload,\n        loading: false\n      };\n    case 'FETCH_FAIL':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\nfunction HomeScreen() {\n  _s();\n  const [{\n    loading,\n    error,\n    products\n  }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: ''\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: 'FETCH_REQUEST'\n      });\n      try {\n        const result = await axios.get('https://greenlife-deploy-5.onrender.com/api/products');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: err.message\n        });\n      }\n\n      // setProducts(result.data);\n    };\n\n    fetchData();\n\n    // Add the Mailchimp script\n    const scriptElement = document.createElement('script');\n    scriptElement.id = 'mcjs';\n    scriptElement.innerHTML = `\n          !function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}\n          (document,\"script\",\"https://chimpstatic.com/mcjs-connected/js/users/cc9f7cece067e1eda3e65c17f/cdf531ae830e57a1acda0cd8a.js\");\n        `;\n    document.head.appendChild(scriptElement);\n\n    // Clean up by removing the script when the component unmounts\n    return () => {\n      document.head.removeChild(scriptElement);\n    };\n  }, []);\n  const showPopup = () => {\n    const popup = document.getElementById(\"subscribePopup\");\n    popup.style.display = \"block\";\n  };\n  const hidePopup = () => {\n    const popup = document.getElementById(\"subscribePopup\");\n    popup.style.display = \"none\";\n  };\n  useEffect(() => {\n    const subscribeBtn = document.getElementById(\"subscribeBtn\");\n    subscribeBtn.addEventListener(\"click\", showPopup);\n    window.addEventListener(\"click\", function (event) {\n      const popup = document.getElementById(\"subscribePopup\");\n      if (event.target === popup) {\n        hidePopup();\n      }\n    });\n\n    // Clean up by removing event listeners when the component unmounts\n    return () => {\n      subscribeBtn.removeEventListener(\"click\", showPopup);\n      window.removeEventListener(\"click\", hidePopup);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"GreenLife\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"S\\u1EA3n ph\\u1EA9m m\\u1EDBi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 12\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {\n        children: products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n          sm: 6,\n          md: 4,\n          lg: 3,\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Product, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)\n        }, product.slug, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeScreen, \"nFInDhMGrAfOqX9VUu/IBA+VrtA=\");\n_c = HomeScreen;\nexport default HomeScreen;\nvar _c;\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["useEffect","useReducer","axios","logger","Row","Col","Product","Helmet","MessageBox","LoadingBox","jsxDEV","_jsxDEV","reducer","state","action","type","loading","products","payload","error","HomeScreen","_s","dispatch","fetchData","result","get","data","err","message","scriptElement","document","createElement","id","innerHTML","head","appendChild","removeChild","showPopup","popup","getElementById","style","display","hidePopup","subscribeBtn","addEventListener","window","event","target","removeEventListener","children","fileName","_jsxFileName","lineNumber","columnNumber","className","variant","map","product","sm","md","lg","slug","_c","$RefreshReg$"],"sources":["D:/TMDT/greenlife-deploy/fe/src/screens/HomeScreen.js"],"sourcesContent":["import { useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport MessageBox from '../components/MessageBox';\nimport LoadingBox from '../components/LoadingBox';\n// import data from '../data';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n    case 'FETCH_SUCCESS':\n      return { ...state, products: action.payload, loading: false };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction HomeScreen() {\n  const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: '',\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_REQUEST' });\n      try {\n        const result = await axios.get('https://greenlife-deploy-5.onrender.com/api/products');\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n      } catch (err) {\n        dispatch({ type: 'FETCH_FAIL', payload: err.message });\n      }\n\n      // setProducts(result.data);\n\n    };\n    fetchData();\n\n        // Add the Mailchimp script\n        const scriptElement = document.createElement('script');\n        scriptElement.id = 'mcjs';\n        scriptElement.innerHTML = `\n          !function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}\n          (document,\"script\",\"https://chimpstatic.com/mcjs-connected/js/users/cc9f7cece067e1eda3e65c17f/cdf531ae830e57a1acda0cd8a.js\");\n        `;\n        document.head.appendChild(scriptElement);\n    \n        // Clean up by removing the script when the component unmounts\n        return () => {\n          document.head.removeChild(scriptElement);\n        };\n\n  }, []);\n\n  const showPopup = () => {\n    const popup = document.getElementById(\"subscribePopup\");\n    popup.style.display = \"block\";\n  };\n\n  const hidePopup = () => {\n    const popup = document.getElementById(\"subscribePopup\");\n    popup.style.display = \"none\";\n  };\n\n  useEffect(() => {\n    const subscribeBtn = document.getElementById(\"subscribeBtn\");\n    subscribeBtn.addEventListener(\"click\", showPopup);\n\n    window.addEventListener(\"click\", function(event) {\n      const popup = document.getElementById(\"subscribePopup\");\n      if (event.target === popup) {\n        hidePopup();\n      }\n    });\n\n    // Clean up by removing event listeners when the component unmounts\n    return () => {\n      subscribeBtn.removeEventListener(\"click\", showPopup);\n      window.removeEventListener(\"click\", hidePopup);\n    };\n  }, []);\n\n\n\n  return (\n    <div>\n      <Helmet>\n        <title>GreenLife</title>\n      </Helmet>\n      <h1>Sản phẩm mới</h1>\n      <div className=\"products\">\n        {loading ? (\n           <LoadingBox />\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <Row>\n            {products.map((product) => (\n              <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\n                <Product product={product}></Product>\n              </Col>\n            ))}\n          </Row>\n        )}\n      </div>\n    \n    </div>\n  );\n}\nexport default HomeScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}